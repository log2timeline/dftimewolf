{
    "name": "gcp_logging_gke",
    "description": "Downloads Kubernetes logs for a GKE cluster (container/cluster logs specifically). A workload may be specified, logs will be adjusted to select logs relevant to that workload only.",
    "short_description": "Downloads GCP logs for a GKE cluster.",
    "preflights": [{
      "wants": [],
      "name": "GCPTokenCheck",
      "args": {
          "project_name": "@project_name"
      }
    }],
    "modules": [{
        "wants": [],
        "name": "GCPLogsCollectorGKECluster",
        "args": {
            "project_name": "@project_name",
            "cluster_name": "@cluster_name",
            "cluster_zone": "@cluster_zone",
            "workload_name": "@workload_name",
            "workload_namespace": "@workload_namespace"
        }
    }],
    "args": [
        ["project_name", "Name of GCP project to collect logs from", null],
        ["cluster_name", "Name of the GKE cluster to collect logs from", null],
        ["cluster_zone", "Zone of the GKE cluster to collect logs from", null],
        ["--workload_name", "The name of the workload to collect logs from", null],
        ["--workload_namespace", "The namespace of the workload to collect logs from", null]
    ]
}
